@using UI.Providers
@inject NavigationManager Navigation
@inject AuthenticationStateProvider AuthStateProvider

@code {
     protected override async Task OnInitializedAsync()
     {
          var state = await AuthStateProvider.GetAuthenticationStateAsync();

          if (!state.User.Identity.IsAuthenticated)
          {
               // Auth bo‘lmagan bo‘lsa — login sahifaga olib borish
               Navigation.NavigateTo("/login");
          }
          else
          {
               // Auth bo‘lgan, lekin roli mos emas
               Navigation.NavigateTo("/forbidden");
          }
     }
}