@using Domain.Models
@using UI.Extensions
<MudTabPanel Text="O‘quvchilar" Icon="@Icons.Material.Filled.People">

     <MudTable Elevation="0" Items="@Sycles" Hover="true" Breakpoint="Breakpoint.Md">


          <HeaderContent>
               <MudTh>Nr</MudTh>

               <MudTh>F.I.Sh</MudTh>

               <MudTh>Guruhga qo'shilish sanasi</MudTh>
               <MudTh>Ohirgi to'lov sanasi </MudTh>





          </HeaderContent>


          <RowTemplate>

               <MudTd DataLabel="Nr">@(Sycles?.IndexOf(context) + 1)</MudTd>
               <MudTd DataLabel="F.I.SH">@context.StudentName</MudTd>
               <MudTd DataLabel="Guruhga qo'shilish sanasi">@context.JoinedAt.ToUzbekDate()</MudTd>
               <MudTd DataLabel="Ohirgi to'lov sanasi">
                    @if (context.StudentPayments.Count > 0)
                    {

                         <MudText Typo="Typo.body2">


                              @( $"{context.StudentPayments.First().BeginDate.ToUzbekDate()} -             {context.StudentPayments.First().EndDate.ToUzbekDate()}" )
                         </MudText>
                    }
                    else
                    {
                         <MudText Typo="Typo.body2" Color="Color.Error">To'lanmagan</MudText>

                    }

               </MudTd>





          </RowTemplate>


     </MudTable>

</MudTabPanel>

@code {

     [Parameter]
     public List<StudentPaymentRowModel>? Sycles { get; set; }




}